% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
%
\documentclass[
]{article}
\usepackage{amsmath,amssymb}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math} % this also loads fontspec
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
\usepackage{lmodern}
\ifPDFTeX\else
  % xetex/luatex font selection
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\usepackage[margin=1in]{geometry}
\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{248,248,248}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.94,0.16,0.16}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\BuiltInTok}[1]{#1}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.64,0.00,0.00}{\textbf{#1}}}
\newcommand{\ExtensionTok}[1]{#1}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.00,0.00,0.81}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\ImportTok}[1]{#1}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.13,0.29,0.53}{\textbf{#1}}}
\newcommand{\NormalTok}[1]{#1}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textit{#1}}}
\newcommand{\RegionMarkerTok}[1]{#1}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.81,0.36,0.00}{\textbf{#1}}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.00,0.00,0.00}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.31,0.60,0.02}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{\textbf{\textit{#1}}}}
\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\setlength{\emergencystretch}{3em} % prevent overfull lines
\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}
\setcounter{secnumdepth}{-\maxdimen} % remove section numbering
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same}
\hypersetup{
  hidelinks,
  pdfcreator={LaTeX via pandoc}}

\author{}
\date{\vspace{-2.5em}}

\begin{document}

\hypertarget{introduction}{%
\subsection{Introduction}\label{introduction}}

L'√©quipe de projet
\texttt{The\ World\ (Taylor\textquotesingle{}s\ Version)} est compos√©e
de quatres personnes : Marielle CHARON, Kevin HERNANDEZ, Anouchka NEVEU
et Amadou ISSAKA AMADOU. Le but de ce projet est de r√©pondre √† plusieurs
questions sur le th√®me de la musique et plus pr√©cisement sur les
platformes Spotify et Youtube grace √† la visualisation de donn√©es. Le
projet sera d√©velopp√© sous R.

\hypertarget{donnuxe9es}{%
\subsection{Donn√©es üí°}\label{donnuxe9es}}

Le dataset utilis√© (\texttt{Datasetfinal.csv}) est un merge de deux
datasets :
\href{https://www.kaggle.com/datasets/salvatorerastelli/spotify-and-youtube}{Spotify
and Youtube} et
\href{https://www.kaggle.com/datasets/sujaykapadnis/spotify-songs}{Spotify
songs}. Le merge final p√®se 6.55 MB et est sous format CSV. Il contient
3668 √©l√©ments. La cl√© qui a servi au merge est l'ID de la musique sur
Spotify.

Les deux jeux de donn√©es contiennent des donn√©es datant de \textbf{2023}
collect√©es depuis les API officielles de YouTube et Spotify. On a,
notamment, les 10 musiques les plus populaires d'une vari√©t√© d'artistes.

\begin{quote}
Il poss√®de √† l'heure actuelle 50 features, avant cleaning de celles
pertinentes. On regroupe les features sous ces cat√©gories :
\end{quote}

\begin{longtable}[]{@{}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.5000}}
  >{\raggedright\arraybackslash}p{(\columnwidth - 2\tabcolsep) * \real{0.5000}}@{}}
\toprule\noalign{}
\begin{minipage}[b]{\linewidth}\raggedright
Cat√©gorie
\end{minipage} & \begin{minipage}[b]{\linewidth}\raggedright
Features associ√©es
\end{minipage} \\
\midrule\noalign{}
\endhead
\bottomrule\noalign{}
\endlastfoot
Informations g√©n√©rales & artist, track\_name, album, album\_type,
duration\_ms, channel, description, track\_album\_release\_date,
\ldots{} \\
Scores musicaux & danceability, energy, key, loudness, acousticness,
instrumentalness, liveness, valence, tempo \\
Popularit√© & views, likes, comments, stream, track\_popularity \\
Variables suppl√©mentaires & uri (Spotify ID), url\_spotify,
url\_youtube, licensed, \ldots{} \\
\end{longtable}

\begin{quote}
Les variables suppl√©mentaires n'expliquent pas la donn√©e pour l'analyse,
mais sont utilis√©es pour structurer le dataset. Les features se
r√©partissent selon plusieurs types : nominales (nom de
l'artiste/musique/album, \ldots), discr√®tes (tonalit√©) ou continues
(scores musicaux).
\end{quote}

\begin{center}\rule{0.5\linewidth}{0.5pt}\end{center}

\hypertarget{ruxe9ponses-aux-questions}{%
\subsection{R√©ponses aux questions ü§î}\label{ruxe9ponses-aux-questions}}

\begin{quote}
Quelles sont les chansons les plus populaires sur YouTube et Spotify ?
\end{quote}

\begin{quote}
Y a-t'il une corr√©lation entre les genres de musique et leur cl√©
musicale ?
\end{quote}

Dans le graphique ci-dessous, on voit les 15 chansons les plus √©cout√©es
(streams cumul√©s sur YouTube et Spotify). On voit rapidement que
\emph{Ed Sheeran} domine le classement puisqu'il cumule 3 des 15
chansons les plus √©cout√©es. ‚ö†Ô∏è \textbf{CELA NE REPRESENTE PAS LES
ARTISTES AVEC LE PLUS DE STREAMS TOTAUX CUMULES}

On d√©cide d'analyser ces musiques en fonction de leur cl√© musicale. Dans
le dataset, chaque cl√© est associ√©e √† un entier selon
\href{https://en.wikipedia.org/wiki/Pitch_class\#:~:text=\%5Bedit\%5D-,Pitch\%20class,-Pitch\%0Aclass}{cet
encodage}. Globalement, plus une cl√© est √©lev√©e, plus une chanson a
tendance √† √™tre a√Øgue. A l'inverse, une chanson √† cl√© basse sera plus
grave.

Sur l'ensemble du dataset, la cl√© moyenne est :

\begin{verbatim}
## [1] 5.365503
\end{verbatim}

soit un \emph{Fa}.

\includegraphics{rapport_files/figure-latex/unnamed-chunk-3-1.pdf}

Si on s'int√©resse uniquement aux 15 premi√®res chansons, la cl√© moyenne
devient alors :

\begin{verbatim}
## [1] 3.866667
\end{verbatim}

plus proche d'un \emph{Mi} (soit une cl√© inf√©rieure).

\includegraphics{rapport_files/figure-latex/unnamed-chunk-5-1.pdf}

En regardant les genres de toutes les musiques du dataset, on voit que
le genre avec la cl√© m√©diane la plus √©lev√©e est le rap. Les genres les
moins vari√©s en terme de de cl√©s musicales sont le rock et l'EDM
(Electronic Dance Music).

‚ö†Ô∏è Il est √† noter que la classification du genre des musiques dans le
dataset peut parfois √™tre hasardeuse.

\begin{quote}
Quelle est la dur√©e moyenne des chansons par artiste ? Est-ce qu'il y a
des artistes qui ont des chansons plus longues ou plus courtes que la
moyenne ?
\end{quote}

L'id√©e √† travers ces diff√©rentes interrogations est de pouvoir situer
les artistes en fonction de la dur√©e moyenne de leurs chansons. Pour
cela, nous allons dans un premier temps voir la
\textbf{\emph{distribution}} de la dur√©e moyenne de chansons √† l'aide
d'un \textbf{\emph{histogramme}}, et ensuite faire la
\textbf{\emph{comparaison}} entre ces artistes. Avant cela, il est
important de noter que :

\begin{verbatim}
## [1] "la dur√©e moyenne d'un song est de: 233.91s soit 3mn53s"
\end{verbatim}

\begin{verbatim}
## [1] "Le song le plus long dure: 517.12s soit 8mn37s"
\end{verbatim}

\begin{verbatim}
## [1] "Le plus court dure: 92.09s soit 1mn32s"
\end{verbatim}

\begin{center}\includegraphics{rapport_files/figure-latex/Histogramme-1} \end{center}

On constate √† travers cet histogramme que toutes les chansons de notre
dataset durent plus de 100s soit plus d'une 1mn40s et qu'il y en a qui
vont jusqu'√† plus de 400s soit plus de 6mn. Cependant malgr√© la faible
domination des songs dans la moyenne g√©n√©rale de dur√©e, un certain
nombre d'artistes proposent une discographie de musiques plus longues.

Si l'on pousse la curiosit√© encore plus loin, on peut faire le top 10
des artistes qui produisent en moyenne plus de longues ou au contraire
plus de courtes musiques. Pour cela, nous, utiliserons un
\textbf{\emph{Bar\_Chart}} pour faire la \textbf{\emph{comparaison}}
entre ces artistes.

\begin{center}\includegraphics{rapport_files/figure-latex/Artist mean duration -1} \end{center}

Sur ces 2 graphiques, on peut voir que dans les deux tops 10, la moyenne
des artistes se d√©tache largement de la dur√©e moyenne du dataset et que
``\emph{Bob Marley \& The Wailers}'' fait plus de longues chansons
contrairement √† ``\emph{Pouya}'' qui a la moyenne la plus basse.

‚ö†Ô∏è Il est important de relativis√©, car il ne faut pas perdre de vue que
nous sommes en pr√©sence d'un dataset qui ne contient pas toute la
discographie de ces artistes.

Avec ces constats, on est en droit de se demander si la dur√©e des songs,
n'a pas d'impact sur la popularit√© de la musique.

\begin{quote}
Les chansons plus longues ont-elles une popularit√© diff√©rente ?
\end{quote}

En tant que m√©lomane, on a tendance √† croire que les chansons les plus
longues sont moins populaires en raison de la tendance actuelle des
artistes pour les musiques de courte dur√©e. Afin d'affirmer ou
d'infirmer cette th√©orie, nous allons √† l'aide d'un
\textbf{\emph{Scatter Plot}}, √©tudier la \textbf{\emph{relation}} entre
la dur√©e et la popularit√© des diff√©rents songs du dataset.

\begin{verbatim}
## `geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = "cs")'
\end{verbatim}

\begin{center}\includegraphics{rapport_files/figure-latex/duration & popularity-1} \end{center}

√Ä travers ce nuage de points, on observe :

\begin{itemize}
\tightlist
\item
  une forte concentration de songs ayant une dur√©e comprise entre 200 et
  300 secondes et avec une popularit√© oscillant entre 60 et 80 \%.
\item
  les songs les plus, mais aussi les moins populaires se situent dans la
  m√™me plage de dur√©e,
\item
  les musiques les plus courtes et les plus longues partagent la m√™me
  plage de popularit√©.
\item
  la dispersion du nuage de points par rapport √† la droite de
  r√©gression.
\end{itemize}

Tout ceci nous pousse √† douter de l'existence d'une r√©elle relation
entre la popularit√© et la dur√©e d'une musique. Dans le doute, on se
r√©f√®re au coefficient de corr√©lation qui est de :

\begin{verbatim}
## [1] -0.1568972
\end{verbatim}

Le r√©sultat n√©gatif traduit une corr√©lation n√©gative, c'est-√†-dire que
les deux variables √©voluent en direction oppos√©e, ce qui conforte nos
soup√ßons sur l'impopularit√© des longues chansons. Cette relation demeure
tr√®s faible et nous pensons que la taille de notre jeu de donn√©es ne
nous permet pas de s'assurer ais√©ment de cette relation.

\begin{quote}
Quel genre de musique est le plus populaire sur Spotify/Youtube ?
\end{quote}

Dans le graphique ci-dessous, nous pouvons voir le classement des genres
de musiques par rapport au nombre moyen de stream (sur spotify et
youtube) que fait une musique de ce genre, ce qui donne donc un
classement de popularit√©. On choisi cette m√©thode de \emph{``nombre
moyen de stream que fait une musique''} pour cat√©goriser la popularit√©
des genres car nous ne pouvons pas simplement afficher un nombre total
de Stream pour chaque genre sachant qu'il n'y a pas un nombre √©gal de
musique par genre. Il faut diviser le nombre total de stream par genre
par le nombre de musique de ce genre, ce qui donne un nombre moyen de
stream pour chaque genre.

\includegraphics{rapport_files/figure-latex/unnamed-chunk-6-1.pdf}

La premiere chose que l'on remarque c'est que l'\textbf{EDM} (Electronic
Dance Music) est en t√™te de classement suivie par la \textbf{Pop} et les
musiques \textbf{Latin(o)}. Pourtant si on reprend les 15 musiques les
plus populaire et qu'on les classe par genre, on se rend compte que le
\textbf{Latin(o)} domine le classement, suivit par la \textbf{Pop} puis
enfin l'\textbf{EDM}. Comme le montre le graphique ci-dessous.

\includegraphics{rapport_files/figure-latex/unnamed-chunk-7-1.pdf}

Pour r√©sumer ces deux graphiques, dans ce dataset, le genre de musique
le plus populaire est l'EMD (sur un nombre moyen d'√©coute) mais parmi le
top 15 des musiques, le genre de musique le plus populaire est le
Latin(o). Alors, comment expliquer cette diff√©rence de r√©sulat ?

Grace au diagramme Whisker Plot
\href{https://cdn2.boryl.fr/2020/11/3d5689a5-box-plot-boi\%CC\%82tes-a\%CC\%80-moustaches--300x223.png}{(d√©finition)}
ci-dessous, on voit que le classement par la m√©diane nous donne encore
une information diff√©rente en mettant la Pop en premi√®re place. C'est
normal et m√™me plus juste car la \textbf{moyenne est sensible aux
``outliers''}, tandis que la m√©diane est plus robuste √† leur pr√©sence.
Si un petit nombre de valeurs extr√™mes sont significativement plus
√©lev√©es que les autres valeurs de l'ensemble de donn√©es, elles peuvent
tirer la moyenne vers le haut, tandis que la m√©diane reste relativement
stable. De plus l'impact sur la moyenne peut varier en fonction de la
quantit√© de donn√©es et de la r√©partition des valeurs extr√™mes.

\includegraphics{rapport_files/figure-latex/unnamed-chunk-8-1.pdf}

Comme on peut le voir dans le tableau ci dessous, le genre EDM contient
beaucoup moins de musique par rapport √† la Pop ou au Latin(o), donc le
petit nombre de musiques extr√™mes (en nombre de stream) √† une grande
influence sur la moyenne de stream ce qui a tendance √† fausser notre
classement initial.

\begin{verbatim}
##   Genre Nombre_de_musiques
## 1   edm                 89
## 2 latin                284
## 3   pop                385
## 4   r&b                310
## 5   rap                282
## 6  rock                598
\end{verbatim}

Que faut-il conclure pour cette question ? Le classement par la m√©diane
est plus pertinent, ce qui place donc la \textbf{Pop comme le genre le
plus populaire}. Pour le genre Latin(o), les musiques font g√©n√©ralement
moins de streams que l'EDM et la Pop sauf quelques cas particuliers qui
apparaissent dans notre top 15 des musiques les plus populaire.

‚ö†Ô∏è Il est √† noter cette √©tude est bas√©e sur les musiques pr√©sente dans
le dataset et pas sur toute les musiques existantes.

\begin{quote}
Est ce que l'energy d'une musique joue un r√¥le important dans sa
popularit√© ?
\end{quote}

C'est une question l√©gitime, existe t'il une corr√©lation entre l'energie
d'une musique ainsi que sa popularit√© (total du nombre de streams sur
les 2 plateformes). Nous analysons cette question avec 2 graphiques
utilisant les m√™mes donn√©es. Le 1er graphique est un scatter plot avec
une moyenne mobile du nombre de streams. Le 2nd est le m√™me graphique
sans le nuage de points pour mieux analyser la moyenne mobile qui semble
constante sur le 1er.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ energy, }\AttributeTok{y =}\NormalTok{ total\_streams)) }\SpecialCharTok{+} \FunctionTok{geom\_point}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{geom\_smooth}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Energy"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Total Streams"}\NormalTok{, }\AttributeTok{title =} \StringTok{"Correlation between Energy and Total Streams"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = "cs")'
\end{verbatim}

\includegraphics{rapport_files/figure-latex/unnamed-chunk-10-1.pdf}

On peut remarquer que la densit√© d'√©nergie avec le plus de musiques se
situe entre 0.4 et 1.

\begin{Shaded}
\begin{Highlighting}[]
\FunctionTok{ggplot}\NormalTok{(data, }\FunctionTok{aes}\NormalTok{(}\AttributeTok{x =}\NormalTok{ energy, }\AttributeTok{y =}\NormalTok{ total\_streams)) }\SpecialCharTok{+}
  \FunctionTok{geom\_smooth}\NormalTok{() }\SpecialCharTok{+}
  \FunctionTok{labs}\NormalTok{(}\AttributeTok{x =} \StringTok{"Energy"}\NormalTok{, }\AttributeTok{y =} \StringTok{"Total Streams"}\NormalTok{, }\AttributeTok{title =} \StringTok{"Correlation between Energy and Total Streams"}\NormalTok{) }\SpecialCharTok{+}
  \FunctionTok{theme\_minimal}\NormalTok{()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
## `geom_smooth()` using method = 'gam' and formula = 'y ~ s(x, bs = "cs")'
\end{verbatim}

\includegraphics{rapport_files/figure-latex/unnamed-chunk-11-1.pdf}

L'√©volution de la moyenne mobile est nettement plus analysable sans le
nuage de points. On peut remarquer que la moyenne du nombre de streams
augmente entre 0 et 0.75 d'energy pour ensuite diminuer entre 0.75 et 1.
Il y a une croissance de pr√®s de 25\% entre 0.25 et 0.75 d'energy et une
chute de 33\% du nombre de streams entre 0.75 et 1. On peut donc
conclure qu'il y a une certaine corr√©lation entre l'energy et le nombre
de streams.

\end{document}
